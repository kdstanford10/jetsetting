<section class="py-20 bg-brand text-white relative overflow-hidden min-h-screen flex items-center">
  <div
    class="absolute top-0 left-0 w-64 h-64 bg-white/10 rounded-full -translate-x-1/2 -translate-y-1/2 blur-2xl"
  ></div>
  <div
    class="absolute bottom-0 right-0 w-96 h-96 bg-white/10 rounded-full translate-x-1/3 translate-y-1/3 blur-3xl"
  ></div>

  <div class="container mx-auto px-4 relative z-10 flex flex-col md:flex-row gap-12 items-center">
    <div class="md:w-1/2">
      <h2 class="text-3xl lg:text-4xl font-bold mb-6 font-display">Get Your Trip Planned FREE!</h2>
      <p class="text-blue-50 text-lg mb-8 font-sans">
        Ready to start planning your dream vacation? Fill out the form, and I'll be in touch to
        discuss your perfect itinerary.
      </p>
    </div>

    <div
      class="md:w-1/2 w-full bg-white text-slate-800 p-8 rounded-2xl shadow-2xl border-4 border-white/20"
    >
      <div *ngIf="submitSuccess" class="p-6 bg-green-50 rounded-lg text-center">
        <h3 class="text-2xl text-green-700 font-bold mb-2">Message Sent!</h3>
        <p class="text-green-800">Thanks for reaching out. I'll get back to you soon.</p>
        <button (click)="submitSuccess = false" class="mt-4 text-green-700 underline">
          Send another message
        </button>
      </div>

      <form
        *ngIf="!submitSuccess"
        [formGroup]="contactForm"
        (ngSubmit)="onSubmit()"
        class="space-y-4"
      >
        <div *ngIf="submitError" class="p-3 bg-red-100 text-red-700 rounded-lg text-sm mb-4">
          {{ submitError }}
        </div>

        <div>
          <label for="name" class="block text-sm font-bold mb-1 text-slate-700">Name</label>
          <input
            id="name"
            formControlName="name"
            type="text"
            class="w-full border border-slate-300 rounded p-3 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand !text-gray-900 !bg-white"
            [class.border-red-500]="
              contactForm.get('name')?.invalid && contactForm.get('name')?.touched
            "
            placeholder="Your Name"
          />
        </div>
        <div>
          <label for="email" class="block text-sm font-bold mb-1 text-slate-700">Email</label>
          <input
            id="email"
            formControlName="email"
            type="email"
            class="w-full border border-slate-300 rounded p-3 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand !text-gray-900 !bg-white"
            [class.border-red-500]="
              contactForm.get('email')?.invalid && contactForm.get('email')?.touched
            "
            placeholder="your@email.com"
          />
        </div>
        <div>
          <label for="phone" class="block text-sm font-bold mb-1 text-slate-700"
            >Phone (Optional)</label
          >
          <input
            id="phone"
            formControlName="phone"
            type="tel"
            (input)="onPhoneInput($event)"
            class="w-full border border-slate-300 rounded p-3 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand !text-gray-900 !bg-white"
            placeholder="(555) 555-5555"
            maxlength="14"
          />
        </div>
        <div>
          <label for="tripType" class="block text-sm font-bold mb-1 text-slate-700"
            >Trip Type</label
          >
          <select
            id="tripType"
            formControlName="tripType"
            class="w-full border border-slate-300 rounded p-3 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand !text-gray-900 !bg-white"
          >
            <option value="Family Vacation">Family Vacation</option>
            <option value="Romantic Getaway">Romantic Getaway</option>
            <option value="Group Travel">Group Travel</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div>
          <label for="message" class="block text-sm font-bold mb-1 text-slate-700">Message</label>
          <textarea
            id="message"
            formControlName="message"
            rows="4"
            class="w-full border border-slate-300 rounded p-3 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand !text-gray-900 !bg-white"
            [class.border-red-500]="
              contactForm.get('message')?.invalid && contactForm.get('message')?.touched
            "
            placeholder="Tell me about your dream trip..."
          ></textarea>
        </div>
        <button
          type="submit"
          [disabled]="contactForm.invalid || isSubmitting"
          class="w-full bg-brand text-white font-bold py-3 rounded-lg hover:bg-brand-dark transition shadow-lg transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          {{ isSubmitting ? 'Sending...' : 'Send Message' }}
        </button>
      </form>
    </div>
  </div>
</section>
